---
 
 import Hamburger from "../icons/Hamburger.astro";
import ThreePoints from "../icons/ThreePoints.astro";
import Close from "../icons/Close.astro";

const pages = [
	{ name: "MONOTRIBUTO", href: "/monotributo" },
	{ name: "RESPONSABLES INSCRIPTOS", href: "/responsablesinscriptos" },
	{ name: "CERTIFICADOS CETA", href: "/ceta"},
	{ name: "ORIGEN DE FONDOS", href: "/contacto"},
    { name: "CONTACTO", href: "/contacto"},
].map((page) => ({
	...page,
	active: Astro.url.pathname === page.href,
}))
---

<header transition:persist class="fixed top-0 z-10 items-center justify-center w-full mx-auto">
  <div class="container mx-auto">
    
    <nav class="relative px-4 py-4 flex justify-between items-center
     bg-white ">
      <a class="text-2xl font-bold leading-none items-center inline-flex" href="/">
        <img src="/logo.webp" class="h-12" style="filter: drop-shadow(0 0 3px rgba(0,0,0,0.8));" alt="">
        <span class="text-gray-900 pl-5 uppercase">Monotributo</span>
        <span class="text-blue-600">.net</span>
        

      </a>
      <div class="lg:hidden">
        <button class="navbar-burger flex items-center
         text-blue-600 p-3 ">
          <Hamburger />
        </button>
      </div>
      <ul
        class="hidden absolute top-1/2 left-1/2 
        transform -translate-y-1/2 -translate-x-1/3  
        md:mx-auto lg:flex lg:items-center lg:w-auto lg:space-x-4"
      >

      {
        pages.map(({ name, href }, key) => (
            <> 
            <li>
                <a
                    href={href}
                    class:list={[
                        "block p-4 text-sm font-semibold text-gray-500 hover:bg-blue-50 hover:text-blue-600 rounded transform motion-safe:hover:scale-105",
                                     
                    ]}
                    id={`nav-link-${key}`}
                >
                   {name}
                </a>
                 
            </li>
            </>
        ))
    }

      </ul>
     
    </nav>
    <div class="navbar-menu relative z-50 hidden">
      <div class="navbar-backdrop fixed inset-0 bg-gray-800 opacity-25"></div>
      <nav
        class="fixed top-0 left-0 bottom-0 flex flex-col w-5/6 max-w-sm py-6 px-6 bg-white border-r overflow-y-auto"
      >
        <div class="flex items-center mb-8">
          <a class="mr-auto text-3xl font-bold leading-none" href="/">
            <img src="/logo.webp" class="h-12" alt="">
          </a>
          <button class="navbar-close">
            <Close />
          </button>
        </div>
        <div>
          <ul>

            {
                pages.map(({ name, href }, key) => (
                    <> 
                    <li class="mb-1">
                        <a
                            href={href}
                            class:list={[
                                "block p-4 text-sm font-semibold text-gray-500 hover:bg-blue-50 hover:text-blue-600 rounded transform motion-safe:hover:scale-105",
                                             
                            ]}
                            id={`nav-link-${key}`}
                        >
                           {name}
                        </a>
                         
                    </li>
                    </>
                ))
            }
        
          </ul>
        </div>
        <div class="mt-auto">
          <div class="pt-6">
             
          </div>
          <p class="my-4 text-xs text-center text-gray-400">
            <span>Copyright Â© 2024</span>
          </p>
        </div>
      </nav>
    </div>
  </div>
</header>

<script>
    // Burger menus
    document.addEventListener("DOMContentLoaded", function () {
      // open
      const burger = document.querySelectorAll(".navbar-burger");
      const menu = document.querySelectorAll(".navbar-menu");
  
      if (burger.length && menu.length) {
        for (var i = 0; i < burger.length; i++) {
          burger[i].addEventListener("click", function () {
            for (var j = 0; j < menu.length; j++) {
              menu[j].classList.toggle("hidden");
            }
          });
        }
      }
  
      // close
      const close = document.querySelectorAll(".navbar-close");
      const backdrop = document.querySelectorAll(".navbar-backdrop");
  
      if (close.length) {
        for (var i = 0; i < close.length; i++) {
          close[i].addEventListener("click", function () {
            for (var j = 0; j < menu.length; j++) {
              menu[j].classList.toggle("hidden");
            }
          });
        }
      }
  
      if (backdrop.length) {
        for (var i = 0; i < backdrop.length; i++) {
          backdrop[i].addEventListener("click", function () {
            for (var j = 0; j < menu.length; j++) {
              menu[j].classList.toggle("hidden");
            }
          });
        }
      }
    });
  </script>
